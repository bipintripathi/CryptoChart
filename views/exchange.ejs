<!DOCTYPE html>
<html lang="en">



<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="assets/css/bootstrap_custom.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
  <link rel="stylesheet" href="assets/css/nice-select.css">
  <link rel="stylesheet" href="assets/css/dd.css">
  <link rel="stylesheet" href="assets/css/styles.css">
  <title>CrytpoChart - Responsive Admin Dashboard</title>
</head>

<body>
  <div class="d-flex wrapper" id="wrapper">
    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-wrapper">
      <div class="sidebar-heading">
        <a href="/">
          <img id="logo" src="assets/img/logo.png" alt="">
        </a>
      </div>
      <nav class="sidebar mb-4">
        <ul class="nav flex-column" id="nav_accordion">
          
          <li class="nav-item">
            <a class="nav-link d-flex gap-2 align-items-center" href="/">
              <img src="assets/img/dashboard_icon_inactive.png" alt="">
              <span class="fw-semibold">Dashboard</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link d-flex gap-2 align-items-center" href="price">
              <span class="material-symbols-outlined fw-lighter">
                trending_up
              </span>
              <span class="fw-semibold">Crypto List</span>
            </a>
          </li>  
        </ul>
        
      </nav>
    </div>


    <!-- Page Content -->
    <div id="page-content-wrapper" class="page-content-wrapper">
      <nav class="navbar navbar-expand-lg py-lg-3 px-2 px-lg-4 d-flex fixed-top justify-content-between">
        <div class="d-flex align-items-center">
          <div class="d-flex align-items-center d-lg-none">
            <span class="material-symbols-outlined menu-toggle" id="menu-toggle">
              menu
            </span>
          </div>
         
        </div>

    
        <!-- For pc -->
      </nav>

      <div class="container-fluid main-content px-2 px-lg-4 ">
        <div class="row my-2 g-3 g-lg-4">
          <div class="col-12">
            <div class="exchange-rate">
              <div class="d-flex align-items-center rate-item">
                <span class="material-symbols-outlined text-white">
                  expand_more
                </span>
                <select id="payments" name="payments" is="ms-dropdown" required>
                  <option value="<%= coinInfo.symbol %>" data-image="<%= coinInfo.image %>" data-description="Bitcoin"><%=coinInfo.symbol.toUpperCase() %>/USDT
                  </option>
                  
                </select>
              </div>
              <div class="d-flex flex-column rate-item">
                <span class="large fw-bold">Price</span>
                <span class="small primary fw-bold">$ <%= coinInfo.current_price %></span>
              </div>
              <div class="d-flex flex-column rate-item">
                <span class="large fw-bold">24h Change</span>
                <span class="small primary fw-bold">$ <%= coinInfo.price_change_24h %></span>
              </div>
              <div class="d-flex flex-column rate-item">
                <span class="large fw-bold">24h high</span>
                <span class="small secondary fw-bold d-flex align-items-center gap-2">$ <%= coinInfo.high_24h %><span
                    class="material-symbols-outlined fw-light secondary">
                    insights
                  </span></span>
              </div>
              <div class="d-flex flex-column rate-item">
                <span class="large fw-bold">24h low</span>
                <span class="small primary fw-bold d-flex align-items-center gap-2">$ <%= coinInfo.low_24h %><span
                    class="material-symbols-outlined fw-light primary">
                    insights
                  </span></span>
              </div>
              <div class="d-flex flex-column rate-item">
                <span class="large fw-bold">24h Volume</span>
                <span class="small fw-bold"><%= coinInfo.market_cap_change_24h %></span>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Chart Area -->
        <div class="row my-2 g-3 gx-lg-4 exchange">
          <div class="col-xl-12 col-xxl-12">
            <div class="mainchart px-3 px-md-4 py-3 py-lg-4">
              <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
                    type="button" role="tab">Ohlc Chart</button>
                </li>               
              </ul>
              <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" tabindex="0">
                  <div class="chart-container">
                    <div id="exchangeChart" style="height: 900px">
                    </div>
                  </div>
                </div>               
              </div>
            </div>
          </div>          
        </div>


        <!-- Footer -->
        <div class="row py-2 g-3 g-lg-4 top-border footer">
          <div class="col-lg-6">
            <span class="text-center text-lg-start d-block w-100">Copyright Â© 2023. All Rights Reserved By <a href="#"
                class="primary">CryptDash</a></span>
          </div>
          <div class="col-lg-6">
            <ul
              class="d-flex gap-2 gap-xl-4 p-0 align-items-center flex-wrap justify-content-center justify-content-lg-end">
              <li><a href="#">Help Center</a></li>
              <li><a href="#">Privacy</a></li>
              <li><a href="#">Terms of Service</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Tf2jD4DCHsC1UAvv7ThqMbK7FZ6z9JIkPMHPtoIcFd5jGCOK9VPhY5q1slgJdNEm" crossorigin="anonymous"></script>
  <script src="//cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="assets/js/jquery.nice-select.js"></script>
  <script src="assets/js/dd.min.js"></script>
  <script src="assets/js/main.js"></script>  
  <script>

    let seriesData = <%-JSON.stringify(coinInfo.ohlc) %>;

    // Now seriesData is already an array/object and can be used directly
    console.log(seriesData);

    // add 5 hours and 30 minutes to each date

    seriesData.map((item) => {
      item.x = new Date(item.x + 5.5 * 3600 * 1000);
    });    
   

var options = {
    series: [{
      data:seriesData
    }],
    chart: {
      toolbar: {
        show: false
      },
      type: 'candlestick',
      height: '100%',
    },
    plotOptions: {
      candlestick: {
        colors: {
          upward: '#3EBF81',
          downward: '#FC774A'
        }
      }
    },

    xaxis: {
      type: 'datetime',
      labels: {
        style: {
          colors: '#D2D9E4'
        }
      },
      tooltip: {
        enabled: false
      }
    },
    yaxis: {
      tooltip: {
        enabled: false,
        // followCursor: true
      },
      labels: {
        show: false,
      }
    },
    grid: {
      borderColor: '#242F40',
      xaxis: {
        lines: {
          show: true
        }
      },
      yaxis: {
        lines: {
          show: true
        }
      },
    },
    tooltip: {
      enabled: true,
      theme: false
    },
  };

  var chart = new ApexCharts(document.querySelector("#exchangeChart"), options);
  chart.render();

  </script>
</body>
</html>